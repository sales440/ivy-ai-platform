{
  "query": "CREATE TABLE IF NOT EXISTS `ropa_tasks` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `task_id` VARCHAR(64) NOT NULL UNIQUE,\n  `type` VARCHAR(64) NOT NULL,\n  `status` ENUM('pending', 'running', 'completed', 'failed', 'cancelled') DEFAULT 'pending' NOT NULL,\n  `priority` ENUM('low', 'medium', 'high', 'critical') DEFAULT 'medium' NOT NULL,\n  `tool_used` VARCHAR(128),\n  `input` JSON,\n  `output` JSON,\n  `error` TEXT,\n  `started_at` TIMESTAMP NULL,\n  `completed_at` TIMESTAMP NULL,\n  `duration` INT,\n  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_logs` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `task_id` VARCHAR(64),\n  `level` ENUM('debug', 'info', 'warn', 'error') DEFAULT 'info' NOT NULL,\n  `message` TEXT NOT NULL,\n  `metadata` JSON,\n  `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_metrics` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `metric_type` VARCHAR(64) NOT NULL,\n  `value` DECIMAL(10, 2) NOT NULL,\n  `unit` VARCHAR(32),\n  `metadata` JSON,\n  `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_config` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `key` VARCHAR(128) NOT NULL UNIQUE,\n  `value` JSON NOT NULL,\n  `description` TEXT,\n  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_chat_history` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `role` ENUM('user', 'assistant', 'system') NOT NULL,\n  `message` TEXT NOT NULL,\n  `metadata` JSON,\n  `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_learning` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `category` VARCHAR(64) NOT NULL,\n  `pattern` TEXT NOT NULL,\n  `frequency` INT DEFAULT 1 NOT NULL,\n  `success_rate` DECIMAL(5, 2),\n  `metadata` JSON,\n  `last_seen` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_alerts` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `severity` ENUM('info', 'warning', 'error', 'critical') NOT NULL,\n  `title` VARCHAR(255) NOT NULL,\n  `message` TEXT NOT NULL,\n  `resolved` BOOLEAN DEFAULT FALSE NOT NULL,\n  `resolved_at` TIMESTAMP NULL,\n  `metadata` JSON,\n  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 385B8cqVvDyKYq8.2ff4d9bc4b3d --database HoXBpYBQ3qbVm6g7qLEzMx --execute CREATE TABLE IF NOT EXISTS `ropa_tasks` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `task_id` VARCHAR(64) NOT NULL UNIQUE,\n  `type` VARCHAR(64) NOT NULL,\n  `status` ENUM('pending', 'running', 'completed', 'failed', 'cancelled') DEFAULT 'pending' NOT NULL,\n  `priority` ENUM('low', 'medium', 'high', 'critical') DEFAULT 'medium' NOT NULL,\n  `tool_used` VARCHAR(128),\n  `input` JSON,\n  `output` JSON,\n  `error` TEXT,\n  `started_at` TIMESTAMP NULL,\n  `completed_at` TIMESTAMP NULL,\n  `duration` INT,\n  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_logs` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `task_id` VARCHAR(64),\n  `level` ENUM('debug', 'info', 'warn', 'error') DEFAULT 'info' NOT NULL,\n  `message` TEXT NOT NULL,\n  `metadata` JSON,\n  `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_metrics` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `metric_type` VARCHAR(64) NOT NULL,\n  `value` DECIMAL(10, 2) NOT NULL,\n  `unit` VARCHAR(32),\n  `metadata` JSON,\n  `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_config` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `key` VARCHAR(128) NOT NULL UNIQUE,\n  `value` JSON NOT NULL,\n  `description` TEXT,\n  `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_chat_history` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `role` ENUM('user', 'assistant', 'system') NOT NULL,\n  `message` TEXT NOT NULL,\n  `metadata` JSON,\n  `timestamp` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_learning` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `category` VARCHAR(64) NOT NULL,\n  `pattern` TEXT NOT NULL,\n  `frequency` INT DEFAULT 1 NOT NULL,\n  `success_rate` DECIMAL(5, 2),\n  `metadata` JSON,\n  `last_seen` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS `ropa_alerts` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `severity` ENUM('info', 'warning', 'error', 'critical') NOT NULL,\n  `title` VARCHAR(255) NOT NULL,\n  `message` TEXT NOT NULL,\n  `resolved` BOOLEAN DEFAULT FALSE NOT NULL,\n  `resolved_at` TIMESTAMP NULL,\n  `metadata` JSON,\n  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1070
}